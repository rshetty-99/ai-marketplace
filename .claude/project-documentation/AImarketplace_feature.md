**AI-Powered Freelance Marketplace - Complete Feature Architecture**

**PHASE 1: CORE PLATFORM (Months 1-3)**

**1. ONBOARDING SYSTEM *(Priority 1)***

**1.1 Freelancer Onboarding**

- **Multi-step wizard with progress tracking**

  - Personal information & identity verification

  - Skills assessment with AI-proctored tests

  - Portfolio upload & AI verification (plagiarism check, code quality
    analysis)

  - GitHub/LinkedIn integration for fast-track verification

  - Pricing strategy setup with AI recommendations

  - Banking/payment method configuration

  - Tax information collection (W9/W8-BEN)

  - Background check consent & processing

  - Personality/work style assessment (DISC/Big Five)

  - AI agent configuration (if bringing custom tools)

  - Onboarding score calculation affecting initial visibility

**1.2 Vendor Company Onboarding**

- **Organization setup**

  - Company verification (business license, tax ID)

  - Multi-user RBAC configuration

  - Employee roster management (without individual tracking)

  - Service catalog definition

  - Compliance documentation upload

  - Preferred pricing models

  - White-label capability setup

  - API access configuration

**1.3 Customer Onboarding**

- **Client organization setup**

  - Company profile & verification

  - RBAC roles (Requestor, Approver, Budget Owner, PM, Legal)

  - Payment method verification & escrow setup

  - Standard contract templates upload (NDA, MSA)

  - Compliance requirements definition

  - SSO configuration

  - Preferred vendor pool setup

  - Department/team structure

**2. AI-POWERED MATCHING & DISCOVERY**

**2.1 Semantic Search & Matching**

- **Vector-based talent matching**

  - Embed job requirements and freelancer profiles

  - Match on skills, experience, industry, tools

  - Cross-domain project support

  - Outcome likelihood scoring (on-time/budget probability)

  - Real-time availability checking

**2.2 AI Brief Generator**

- **Intelligent project scoping**

  - Natural language to structured brief

  - Domain-specific question generation

  - Auto-generate SOW with deliverables

  - Dependency identification

  - Risk flag detection

  - Acceptance criteria definition

**3. PROJECT MANAGEMENT FOUNDATION**

**3.1 Project Creation & Posting**

- **Smart project setup**

  - Template library for common projects

  - AI-suggested categorization

  - Multi-category project support

  - Budget recommendation engine

  - Timeline estimation

  - Required skills auto-detection

**3.2 Proposal System**

- **AI-powered proposals**

  - Proposal copilot for freelancers

  - Auto-generated timelines & milestones

  - Price optimization (fixed vs hourly recommendations)

  - Good/Better/Best package generation

  - Relevant case study insertion

**4. ESCROW & PAYMENT SYSTEM**

**4.1 Secure Escrow**

- **Multi-stage escrow management**

  - Pre-project fund verification

  - Milestone-based releases

  - Progressive escrow for long projects

  - Hourly block purchases

  - Automatic refunds for unused hours

  - Credit system for future work

**4.2 Payment Processing**

- **Flexible payment options**

  - Multi-currency support

  - ACH, wire, credit card processing

  - International payment handling

  - Kill fee automation

  - Platform fee calculation (tiered by user level)

**5. COMMUNICATION HUB**

**5.1 Messaging System**

- **Built-in communication**

  - Real-time chat with file sharing

  - PII/secret auto-redaction

  - Translation support

  - Voice notes & transcription

  - Thread organization by project

**5.2 Video Collaboration**

- **Integrated video calls**

  - Built-in video using WebRTC

  - Screen sharing capability

  - Recording with AI summaries

  - Calendar integration

**6. DASHBOARD & ANALYTICS**

**6.1 Role-Based Dashboards**

- **Freelancer Command Center**

  - Active projects overview

  - Earnings analytics

  - Skill demand trends

  - Performance metrics

  - AI recommendations for improvement

**6.2 Client Dashboard**

- **Project oversight**

  - All projects status view

  - Budget burn-down charts

  - Vendor performance metrics

  - Department-wise analytics

  - ROI calculations

**6.3 Text-to-SQL Reporting**

- **Natural language queries**

  - \"Show me all projects over budget last month\"

  - \"What\'s my average project completion time?\"

  - \"List top performing freelancers in React\"

  - Custom report generation

  - Export to PDF/Excel

**PHASE 2: ADVANCED FEATURES (Months 4-6)**

**7. AI PROJECT CONDUCTOR**

**7.1 Complex Project Orchestration**

- **Multi-party coordination**

  - 10+ team member management

  - Dependency mapping & visualization

  - Risk heat maps

  - Automated status collection

  - Personality-based team composition

**7.2 Project Simulation**

- **Predictive modeling**

  - Timeline simulation with Monte Carlo

  - Risk identification & mitigation

  - Budget overrun prediction

  - Success probability scoring

**8. QUALITY ASSURANCE & VERIFICATION**

**8.1 Automated Testing**

- **Deliverable validation**

  - Code security scanning

  - Plagiarism detection

  - License compliance checking

  - Accessibility testing

  - Performance benchmarking

**8.2 Skill Decay & Reverification**

- **Dynamic skill validation**

  - Time-based skill decay

  - Emerging tech assessment creation

  - Cross-skill integration testing

  - Continuous learning tracking

**9. TRUST & SAFETY SYSTEM**

**9.1 Fraud Detection**

- **Multi-layer protection**

  - Phantom project detection

  - IP tracking & pattern analysis

  - Behavioral anomaly detection

  - Video verification for high-value projects

  - Deepfake detection

**9.2 Dispute Resolution**

- **AI-mediated resolution**

  - Automatic evidence collection

  - Timeline reconstruction

  - Compromise suggestion engine

  - Binding arbitration for small claims

  - Supreme court escalation system

**10. KNOWLEDGE MARKETPLACE**

**10.1 Template & Playbook Store**

- **Reusable assets**

  - Project templates

  - Code boilerplates

  - Design systems

  - Process playbooks

  - Pricing strategies

**10.2 AI Agent Marketplace**

- **Custom agent ecosystem**

  - Platform-certified agents

  - Community agents

  - Agent licensing system

  - Performance benchmarks

  - Liability management

**PHASE 3: ECOSYSTEM EXPANSION (Months 7-12)**

**11. ADVANCED AI FEATURES**

**11.1 Autonomous Agents**

- **Do-with-me AI assistants**

  - Code generation agents

  - Documentation writers

  - Test creators

  - Design assistants

  - All with audit logs

**11.2 AI Negotiator**

- **Automated deal-making**

  - Price negotiation

  - Scope adjustment

  - Timeline optimization

  - Win-win finder

**12. COMMUNITY & SOCIAL**

**12.1 Guild System**

- **Professional communities**

  - Skill-based guilds

  - Resource sharing

  - Peer mentorship

  - Knowledge exchange

  - Collaborative bidding

**12.2 Reputation Graph**

- **Network effects**

  - Peer endorsements

  - Skill verification chains

  - Trust networks

  - Referral tracking

**13. ENTERPRISE FEATURES**

**13.1 Programmatic RFPs**

- **Automated sourcing**

  - RFP generation from templates

  - Instant shortlist matching

  - Bulk project posting

  - Vendor pool management

**13.2 Compliance Suite**

- **Enterprise-ready compliance**

  - SOC2/ISO compliance tracking

  - GDPR/CCPA management

  - Jurisdiction-aware contracts

  - Audit trail generation

**14. PLATFORM INTELLIGENCE**

**14.1 Learning System**

- **Continuous improvement**

  - Project pattern Wikipedia

  - Success factor analysis

  - Failure pattern detection

  - Best practice extraction

**14.2 Market Intelligence**

- **Data-driven insights**

  - Skill demand forecasting

  - Rate trend analysis

  - Emerging technology tracking

  - Competition analysis

**PHASE 4: PLATFORM EVOLUTION (12+ Months)**

**15. API ECOSYSTEM**

- **Developer platform**

  - RESTful & GraphQL APIs

  - Webhook system

  - Rate limiting by tier

  - Developer portal

  - Integration marketplace

**16. CONTINUOUS DELIVERY PLATFORM**

- **DevOps-style workflows**

  - Ongoing work streams

  - Sprint-based delivery

  - Continuous integration

  - Automated deployments

**17. META-PROJECTS**

- **AI training projects**

  - Data labeling marketplace

  - Model training tasks

  - Evaluation projects

  - Synthetic data generation

**Technical architecture**

// Technology Stack

\- Frontend: Next.js 15.4 (App Router)

\- UI: ShadCN + Tailwind CSS

\- Database: Cloud Firestore

\- Storage: Firebase Storage

\- Hosting: Firebase Hosting

\- Auth: Firebase authentication

\- State: Zustand

\- Forms: React Hook Form + Zod

\- AI: OpenAI/Anthropic (switchable via env)

\- Monitoring: Firebase Analytics

**Database schema**

// Main Collections

\- users

\- organizations

\- projects

\- proposals

\- contracts

\- escrow_transactions

\- messages

\- skills

\- categories

\- ai_agents

\- templates

\- disputes

\- audit_logs

**Security Implementation**

- Row-level security with tenant isolation

- End-to-end encryption for sensitive data

- API rate limiting by tier

- RBAC with fine-grained permissions

- Automatic PII redaction

- Comprehensive audit logging

**COMPETITIVE DIFFERENTIATION MATRIX**

| **Feature**                  | **Your Platform** | **Upwork** | **Fiverr** | **Freelancer** |
|------------------------------|-------------------|------------|------------|----------------|
| AI Project Conductor         | ✅ Full           | ❌         | ❌         | ❌             |
| Predictive Success Scoring   | ✅ Full           | ⚠️ Basic   | ❌         | ❌             |
| AI Brief → Contract Flow     | ✅ Automated      | ⚠️ Manual  | ⚠️ Manual  | ⚠️ Manual      |
| Psychological Team Profiling | ✅ Full           | ❌         | ❌         | ❌             |
| Skill Decay Tracking         | ✅ Dynamic        | ❌         | ❌         | ❌             |
| AI Negotiator                | ✅ Full           | ❌         | ❌         | ❌             |
| Text-to-SQL Reporting        | ✅ Full           | ❌         | ❌         | ❌             |
| Project Simulation           | ✅ Full           | ❌         | ❌         | ❌             |
| AI Agent Marketplace         | ✅ Full           | ❌         | ⚠️ Limited | ❌             |
| Multi-stage Escrow           | ✅ Intelligent    | ⚠️ Basic   | ⚠️ Basic   | ✅ Good        |

**IMPLEMENTATION PRIORITIES FOR CLAUDE CODE**

1.  Next.js project setup with Firebase

2.  Authentication with Clerk

3.  Basic RBAC implementation

4.  Firestore schema setup

5.  Freelancer onboarding flow

6.  Client onboarding flow

7.  Skill verification system

8.  Profile creation

9.  Project posting with AI brief generator

10. Semantic matching engine

11. Proposal system

12. Basic escrow

13. Messaging system

14. File sharing with PII detection

15. Video integration

16. Notifications

17. Dashboard creation

18. Text-to-SQL engine

19. Reporting system

20. Performance metrics

21. **RBAC (ROLE-BASED ACCESS CONTROL) SYSTEM**

22. **2. PORTAL/PLATFORM ROLES**

23. **2.1 Platform Administration Hierarchy**

typescript

enum PlatformRoles {

*// Executive Level*

SUPER_ADMIN = \'super_admin\', *// Full system access*

PLATFORM_OWNER = \'platform_owner\', *// Business owner rights*

*// Management Level*

OPERATIONS_MANAGER = \'operations_manager\',

FINANCE_MANAGER = \'finance_manager\',

TRUST_SAFETY_MANAGER = \'trust_safety_manager\',

*// Operational Level*

CUSTOMER_SUCCESS = \'customer_success\',

SUPPORT_AGENT = \'support_agent\',

DISPUTE_MEDIATOR = \'dispute_mediator\',

CONTENT_MODERATOR = \'content_moderator\',

*// Specialized Roles*

AI_TRAINER = \'ai_trainer\',

SECURITY_ANALYST = \'security_analyst\',

COMPLIANCE_OFFICER = \'compliance_officer\',

QUALITY_AUDITOR = \'quality_auditor\',

*// External*

PARTNER_ADMIN = \'partner_admin\',

API_DEVELOPER = \'api_developer\'

}

**2.2 Platform Role Permissions**

typescript

interface PlatformPermissions {

SUPER_ADMIN: {

*// Complete access to everything*

all: \[\'\*\'\];

restrictions: \[\];

};

OPERATIONS_MANAGER: {

users: \[\'view\', \'edit\', \'suspend\', \'verify\'\],

projects: \[\'view\', \'edit\', \'cancel\', \'intervene\'\],

finances: \[\'view\'\],

platform: \[\'configure_features\', \'manage_categories\'\],

ai: \[\'configure\', \'train\'\],

reports: \[\'view\', \'generate\', \'export\'\]

};

FINANCE_MANAGER: {

transactions: \[\'view\', \'process\', \'refund\', \'adjust\'\],

escrow: \[\'view\', \'release\', \'hold\', \'dispute\'\],

fees: \[\'configure\', \'waive\', \'adjust\'\],

reports: \[\'financial\', \'tax\', \'audit\'\],

users: \[\'view_financial_data\'\],

withdrawal: \[\'approve\', \'reject\', \'process\'\]

};

TRUST_SAFETY_MANAGER: {

users: \[\'investigate\', \'suspend\', \'ban\', \'verify\'\],

content: \[\'moderate\', \'remove\', \'flag\'\],

disputes: \[\'view\', \'escalate\', \'resolve\'\],

fraud: \[\'investigate\', \'block\', \'report\'\],

compliance: \[\'audit\', \'report\', \'enforce\'\]

};

CUSTOMER_SUCCESS: {

users: \[\'view\', \'communicate\', \'assist\'\],

projects: \[\'view\', \'facilitate\'\],

disputes: \[\'view\', \'initial_response\'\],

reports: \[\'customer_satisfaction\', \'nps\'\],

features: \[\'demo\', \'onboard\', \'train\'\]

};

SUPPORT_AGENT: {

tickets: \[\'view\', \'respond\', \'escalate\'\],

users: \[\'view_basic\', \'reset_password\', \'unlock\'\],

knowledge_base: \[\'view\', \'suggest_updates\'\],

bugs: \[\'report\', \'track\'\]

};

DISPUTE_MEDIATOR: {

disputes: \[\'view\', \'mediate\', \'propose_resolution\'\],

evidence: \[\'collect\', \'analyze\', \'present\'\],

communication: \[\'facilitate\', \'document\'\],

escrow: \[\'recommend_action\'\],

reports: \[\'dispute_analytics\'\]

};

}

**3. CUSTOMER COMPANY ROLES**

**3.1 Customer Organization Hierarchy**

typescript

enum CustomerRoles {

*// Executive Level*

ORG_OWNER = \'org_owner\', *// Company account owner*

ORG_ADMIN = \'org_admin\', *// Full admin rights*

*// Management Level*

DEPARTMENT_HEAD = \'department_head\',

PROJECT_DIRECTOR = \'project_director\',

BUDGET_CONTROLLER = \'budget_controller\',

*// Operational Level*

PROJECT_MANAGER = \'project_manager\',

PROJECT_REQUESTER = \'project_requester\',

TEAM_MEMBER = \'team_member\',

*// Specialized Roles*

LEGAL_REVIEWER = \'legal_reviewer\',

COMPLIANCE_REVIEWER = \'compliance_reviewer\',

FINANCE_APPROVER = \'finance_approver\',

VENDOR_MANAGER = \'vendor_manager\',

*// Limited Access*

VIEWER = \'viewer\',

GUEST = \'guest\'

}

**3.2 Customer Role Permissions**

typescript

interface CustomerPermissions {

ORG_OWNER: {

organization: \[\'manage\', \'delete\', \'transfer\'\],

billing: \[\'manage\', \'view\', \'update_payment\'\],

users: \[\'invite\', \'remove\', \'manage_roles\'\],

settings: \[\'all\'\],

api: \[\'manage_keys\', \'configure_webhooks\'\]

};

ORG_ADMIN: {

projects: \[\'create\', \'edit\', \'cancel\', \'approve_all\'\],

vendors: \[\'approve\', \'block\', \'rate\', \'manage_preferred\'\],

budget: \[\'allocate\', \'approve_unlimited\'\],

contracts: \[\'sign\', \'modify\', \'terminate\'\],

users: \[\'invite\', \'manage\', \'assign_roles\'\],

reports: \[\'view_all\', \'export\', \'schedule\'\]

};

DEPARTMENT_HEAD: {

projects: \[\'create\', \'approve_department\', \'view_department\'\],

budget: \[\'approve_limit:50000\', \'allocate_department\'\],

vendors: \[\'approve_department\', \'rate\'\],

team: \[\'manage_department\', \'assign_projects\'\],

reports: \[\'department_analytics\'\]

};

PROJECT_MANAGER: {

projects: \[\'create\', \'manage_assigned\', \'communicate\'\],

milestones: \[\'approve\', \'request_changes\'\],

vendors: \[\'communicate\', \'rate\', \'recommend\'\],

budget: \[\'track\', \'alert\', \'request_increase\'\],

files: \[\'upload\', \'share\', \'organize\'\],

reports: \[\'project_specific\'\]

};

PROJECT_REQUESTER: {

projects: \[\'create_draft\', \'submit_for_approval\'\],

requirements: \[\'define\', \'clarify\', \'update\'\],

vendors: \[\'view\', \'shortlist\', \'communicate_limited\'\],

budget: \[\'propose\', \'view_allocated\'\]

};

BUDGET_CONTROLLER: {

budget: \[\'approve_all\', \'allocate\', \'freeze\', \'audit\'\],

invoices: \[\'approve\', \'reject\', \'query\'\],

payments: \[\'authorize\', \'schedule\', \'hold\'\],

reports: \[\'financial\', \'budget_utilization\', \'forecasting\'\],

escrow: \[\'fund\', \'approve_release\'\]

};

LEGAL_REVIEWER: {

contracts: \[\'review\', \'approve\', \'request_changes\',
\'flag_risks\'\],

ndas: \[\'approve\', \'modify\', \'enforce\'\],

compliance: \[\'audit\', \'certify\', \'report\'\],

disputes: \[\'review\', \'provide_input\'\],

ip: \[\'verify\', \'protect\', \'flag\'\]

};

VENDOR_MANAGER: {

vendors: \[\'onboard\', \'evaluate\', \'manage_relationships\'\],

preferred_list: \[\'manage\', \'tier\', \'negotiate_rates\'\],

performance: \[\'track\', \'review\', \'report\'\],

contracts: \[\'negotiate\', \'renew\', \'terminate\'\],

slas: \[\'define\', \'monitor\', \'enforce\'\]

};

}

**4. VENDOR/FREELANCER COMPANY ROLES**

**4.1 Vendor Organization Hierarchy**

typescript

enum VendorRoles {

*// Company Level (for vendor companies)*

COMPANY_OWNER = \'company_owner\',

COMPANY_ADMIN = \'company_admin\',

ACCOUNT_MANAGER = \'account_manager\',

PROJECT_LEAD = \'project_lead\',

TEAM_MEMBER = \'team_member\',

FINANCE_MANAGER = \'finance_manager\',

*// Individual Freelancer*

FREELANCER = \'freelancer\', *// Solo freelancer*

FREELANCER_PLUS = \'freelancer_plus\', *// Premium tier*

FREELANCER_PRO = \'freelancer_pro\', *// Top tier*

*// Specialized*

SUBCONTRACTOR = \'subcontractor\',

CONSULTANT = \'consultant\',

AGENCY_PARTNER = \'agency_partner\'

}

**4.2 Vendor Role Permissions**

typescript

interface VendorPermissions {

COMPANY_OWNER: {

company: \[\'manage\', \'delete\', \'transfer_ownership\'\],

finances: \[\'withdraw\', \'manage_banking\', \'view_all\'\],

team: \[\'hire\', \'fire\', \'assign_roles\'\],

projects: \[\'bid_all\', \'assign_team\', \'subcontract\'\],

branding: \[\'manage\', \'white_label_setup\'\],

api: \[\'full_access\'\]

};

COMPANY_ADMIN: {

projects: \[\'bid\', \'manage\', \'assign\', \'complete\'\],

team: \[\'manage\', \'assign_work\', \'track_time\'\],

invoices: \[\'create\', \'send\', \'track\'\],

proposals: \[\'create\', \'approve\', \'submit\'\],

clients: \[\'communicate\', \'manage_relationships\'\],

reports: \[\'view_all\', \'export\'\]

};

ACCOUNT_MANAGER: {

clients: \[\'manage_assigned\', \'upsell\', \'retain\'\],

projects: \[\'oversee\', \'escalate\', \'report\'\],

proposals: \[\'review\', \'price\', \'submit\'\],

relationships: \[\'build\', \'maintain\', \'expand\'\],

revenue: \[\'track\', \'forecast\', \'optimize\'\]

};

PROJECT_LEAD: {

projects: \[\'lead\', \'delegate\', \'deliver\', \'communicate\'\],

team: \[\'coordinate\', \'review_work\', \'approve_tasks\'\],

milestones: \[\'track\', \'submit\', \'ensure_quality\'\],

clients: \[\'communicate\', \'gather_requirements\', \'present\'\],

time: \[\'approve_team\', \'track_own\'\]

};

TEAM_MEMBER: {

tasks: \[\'view_assigned\', \'complete\', \'update_status\'\],

time: \[\'track\', \'submit\', \'edit_own\'\],

files: \[\'upload_work\', \'access_project\'\],

communication: \[\'team_chat\', \'ask_questions\'\],

learning: \[\'access_resources\', \'skill_development\'\]

};

FREELANCER: {

profile: \[\'manage\', \'showcase_portfolio\', \'set_rates\'\],

projects: \[\'browse\', \'bid\', \'negotiate\', \'deliver\'\],

finances: \[\'track_earnings\', \'withdraw\', \'invoice\'\],

clients: \[\'communicate\', \'build_relationships\'\],

skills: \[\'verify\', \'update\', \'learn\'\],

ai_tools: \[\'use_basic\', \'create_simple_agents\'\]

};

FREELANCER_PRO: {

*// All FREELANCER permissions plus:*

visibility: \[\'priority_search\', \'featured_profile\'\],

projects: \[\'access_premium\', \'direct_invites\'\],

ai_tools: \[\'advanced_agents\', \'custom_models\'\],

analytics: \[\'advanced_insights\', \'market_intelligence\'\],

support: \[\'priority\', \'dedicated_success_manager\'\],

fees: \[\'reduced_platform_fee\'\] *// 5% instead of 15%*

};

}

**5. CROSS-ENTITY PERMISSIONS**

**5.1 Permission Inheritance**

typescript

interface PermissionInheritance {

*// Hierarchical inheritance*

inheritance_rules: {

COMPANY_OWNER: \[\'inherits_all_company_roles\'\],

ORG_ADMIN: \[\'inherits_all_department_roles\'\],

DEPARTMENT_HEAD: \[\'inherits_pm_and_requester\'\],

PROJECT_MANAGER: \[\'inherits_team_member\'\]

};

*// Cross-entity permissions*

cross_entity: {

PLATFORM_TO_CUSTOMER: \[\'view\', \'moderate\', \'support\'\],

PLATFORM_TO_VENDOR: \[\'verify\', \'moderate\', \'support\'\],

CUSTOMER_TO_VENDOR: \[\'hire\', \'communicate\', \'rate\'\],

VENDOR_TO_CUSTOMER: \[\'propose\', \'deliver\', \'invoice\'\]

};

}

**5.2 Dynamic Permission Modifiers**

typescript

interface DynamicPermissions {

*// Conditional permissions*

tier_based: {

BRONZE: { max_projects: 5, fee: 0.15 },

SILVER: { max_projects: 15, fee: 0.12 },

GOLD: { max_projects: 50, fee: 0.10 },

PLATINUM: { max_projects: \'unlimited\', fee: 0.05 }

};

*// Time-based permissions*

temporal: {

trial_period: { duration: 30, limitations: \[\'no_withdrawal\'\] },

probation: { duration: 90, limitations: \[\'escrow_hold_extended\'\] },

seasonal: { peak_season: \[\'surge_pricing_enabled\'\] }

};

*// Performance-based permissions*

performance: {

high_performer: \[\'reduced_fees\', \'priority_matching\'\],

low_performer: \[\'limited_visibility\', \'additional_verification\'\],

new_user: \[\'limited_bidding\', \'escrow_requirements\'\]

};

}

**6. RBAC IMPLEMENTATION**

**6.1 Permission Checking System**

typescript

*// Middleware for permission checking*

async function checkPermission(

user: User,

resource: string,

action: string,

context?: any

): Promise\<boolean\> {

*// Get user\'s roles*

const roles = await getUserRoles(user.id);

*// Check each role\'s permissions*

for (const role of roles) {

if (await roleHasPermission(role, resource, action, context)) {

*// Log the action for audit*

await logAction(user, resource, action, \'granted\');

return true;

}

}

*// Check dynamic permissions*

if (await checkDynamicPermissions(user, resource, action, context)) {

return true;

}

*// Log denied action*

await logAction(user, resource, action, \'denied\');

return false;

}

**6.2 Firestore Security Rules**

javascript

*// Firestore security rules example*

match /projects/{projectId} {

allow read: if request.auth != null && (

hasRole(\'VIEWER\') \|\|

isProjectParticipant(projectId) \|\|

isPlatformStaff()

);

allow create: if request.auth != null && (

hasRole(\'PROJECT_REQUESTER\') \|\|

hasRole(\'PROJECT_MANAGER\') \|\|

hasMinimumTier(\'SILVER\')

);

allow update: if request.auth != null && (

isProjectOwner(projectId) \|\|

isAssignedPM(projectId) \|\|

(isVendor() && isAssignedVendor(projectId))

);

allow delete: if request.auth != null && (

hasRole(\'ORG_ADMIN\') \|\|

hasRole(\'SUPER_ADMIN\')

);

}
